import{B as H,E as Pe,r as u,A as y,c as o,g as Te,s as Re,p as q,e as S,h as F,H as De,o as $e,j as P,f as ke,m as Ie,z as c,F as je}from"./index-Bff0VrSb.js";import{D as N}from"./dark-border-container-BoXnO8MX.js";import{u as I,T as X,R as Qe,d as qe,g as Oe,B as Xe,M as Ee,a as Ye}from"./interface-DDJcQC2H.js";import{T as Je,s as Fe,S as we,a as ze,C as Ne,b as Le,c as E,d as w,e as z,f as D,B as j,g as Q,I as Me,L as He,h as Ke,A as Ze,D as et,i as tt}from"./Typography-cVGN6Cu2.js";import{B as _e}from"./border-container-CGqPoDbU.js";import"./close-DfsGnNzS.js";function ot(e,t=0,n=1){return Pe(e,t,n)}function rt(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", "),")"):""}function Ge(e){if(e.type)return e;if(e.charAt(0)==="#")return Ge(rt(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(H(9,e));let r=e.substring(t+1,e.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(H(10,a))}else r=r.split(",");return r=r.map(d=>parseFloat(d)),{type:n,values:r,colorSpace:a}}function nt(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((a,d)=>d<3?parseInt(a,10):a):t.indexOf("hsl")!==-1&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),t.indexOf("color")!==-1?r="".concat(n," ").concat(r.join(" ")):r="".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function V(e,t){return e=Ge(e),t=ot(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]="/".concat(t):e.values[3]=t,nt(e)}function at(e){return u.Children.toArray(e).filter(t=>u.isValidElement(t))}const it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQokcWT7QmDQAyGnysdRLgRig7Q4gTOoEPpDE5QdIAWRwi4yfVPE6Jisf3TwHEXSN4vuJBS4tc6/bwJnAHuz8fX9GVeBGPOYrQzDePHfsEMMIsAMA0jVVPTtx2X23XT+1LmAIRpGG2gampbBAwoizG85wkppYVnBfDyZhE8sHo22TqcxUjfdvbWRVXgLe56Xgd5yLMuziL0bWegmoH3rMxJQ/Ep6+2zmEU0n33PqmDde4ubtI9WmRch/O1jvAA4I4AoEt1utgAAAA5lWElmTU0AKgAAAAgAAAAAAAAA0lOTAAAAAElFTkSuQmCC",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVQokWP8//8/A6mABcbo6OhA1s1YUVGBUxPj////GTo6Ov4Hp6XCBdfOmo1TfUVFBcKmB3fvMjAwMDAoKCszIBsAE2dgYGA4u3fffwYGBkYWJAEUI9H5yACuCWY6zGnItqE7mwVdAptidMBEUAXVNSGHEjaALM+CSwIfgGlihMYBXmDs7MTIwABNEaQCAOzJNZp0zLFFAAAADmVYSWZNTQAqAAAACAAAAAAAAADSU5MAAAAASUVORK5CYII=",lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVQokZVSwQ2DMBBzEIMgZQSUDJAoEzADzMIMMAMTIBgAxARVJBZoV7g+2sAR4IFfUXw+29IJIsJTpOHRzxMBQCblRq7eA4BwSh9EgojQzxPxYY4rYRKRG7qm5X/Uz9PR6fV5UxjIpDwt4Mmc0nunZRiRW4PVeyzDeKnIrSEAIg3RiqrcBEVVXoq6poVTeu/UNe1p4KbfTxSicQS31fsTl/yzirgH3x5z3Okg5L1iJxHOqK5r5NZgGcbbu8qtEU7pXfQEX66Vbuohx3tBAAAAAElFTkSuQmCC",dt=y("div",{target:"e1mqx0278"})({name:"2vqyiu",styles:"width:calc(100% - 16px);height:120px;display:flex;justify-content:center;align-items:center;@media screen and (max-width: 1320px){margin-top:16px;grid-area:5/1/6/3;width:calc(100% - 32px);padding:8px 16px;}"}),ct=y("div",{target:"e1mqx0277"})({name:"r5qz9b",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-evenly;align-items:space-evenly"}),Y=y("div",{target:"e1mqx0276"})("height:64px;width:64px;&:hover{cursor:pointer;&>*{background-color:",({theme:e})=>e.palette.primary.alternate,";&>*{background-color:",({theme:e})=>e.palette.secondary.main,";}}}"),U=y("div",{target:"e1mqx0275"})({name:"zigog8",styles:"display:flex;flex-direction:column;align-items:center"}),W=y(Je,{target:"e1mqx0274"})("color:",({theme:e})=>e.palette.white.main,";font-family:'JoystixMonospace';"),ut=y("div",{target:"e1mqx0273"})("width:48px;height:48px;background-image:url(",it,");background-repeat:no-repeat;background-position:center;background-size:100% 100%;image-rendering:pixelated;"),pt=y("div",{target:"e1mqx0272"})("width:48px;height:48px;background-image:url(",st,");background-repeat:no-repeat;background-position:center;background-size:100% 100%;image-rendering:pixelated;"),gt=y("div",{target:"e1mqx0271"})("width:48px;height:48px;background-image:url(",lt,");background-repeat:no-repeat;background-position:center;background-size:100% 100%;image-rendering:pixelated;"),At=y("div",{target:"e1mqx0270"})("width:48px;height:48px;background-image:url(",Fe,");background-repeat:no-repeat;background-position:center;background-size:100% 100%;image-rendering:pixelated;");var K;const ht=()=>{const e=I(r=>r.layerArr),t=I(r=>r.setLayerArr),n=()=>{e.forEach((r,a)=>{if(a!==0&&!r.isLocked){const d=Qe(r.layerType),A=qe[r.layerType][d.asset].includes("swarthy.png")?e[0].color:d.color;e[a].assetName=d.asset,e[a].color=A,e[a].secondary=d.secondary,t([...e])}})};return o(Y,{onClick:()=>n(),children:K||(K=o(N,{children:o(X,{title:"Randomize all unlocked layers",children:o(gt,{})})}))})};function mt(e){return Te("MuiToggleButton",e)}const $=Oe("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Ve=u.createContext({}),Ue=u.createContext(void 0);function ft(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const vt=["value"],Ct=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],xt=e=>{const{classes:t,fullWidth:n,selected:r,disabled:a,size:d,color:g}=e,A={root:["root",r&&"selected",a&&"disabled",n&&"fullWidth","size".concat(q(d)),g]};return Ie(A,mt,t)},Bt=Re(Xe,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["size".concat(q(n.size))]]}})(({theme:e,ownerState:t})=>{let n=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,r;return e.vars&&(n=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,r=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),S({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:"1px solid ".concat((e.vars||e).palette.divider),color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{["&.".concat($.disabled)]:{color:(e.vars||e).palette.action.disabled,border:"1px solid ".concat((e.vars||e).palette.action.disabledBackground)},"&:hover":{textDecoration:"none",backgroundColor:e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):V(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat($.selected)]:{color:n,backgroundColor:e.vars?"rgba(".concat(r," / ").concat(e.vars.palette.action.selectedOpacity,")"):V(n,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?"rgba(".concat(r," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):V(n,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(r," / ").concat(e.vars.palette.action.selectedOpacity,")"):V(n,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),k=u.forwardRef(function(t,n){const r=u.useContext(Ve),{value:a}=r,d=F(r,vt),g=u.useContext(Ue),A=De(S({},d,{selected:ft(t.value,a)}),t),p=$e({props:A,name:"MuiToggleButton"}),{children:B,className:f,color:T="standard",disabled:v=!1,disableFocusRipple:i=!1,fullWidth:R=!1,onChange:h,onClick:s,selected:C,size:L="medium",value:O}=p,M=F(p,Ct),_=S({},p,{color:T,disabled:v,disableFocusRipple:i,fullWidth:R,size:L}),J=xt(_),x=b=>{s&&(s(b,O),b.defaultPrevented)||h&&h(b,O)},m=g||"";return P.jsx(Bt,S({className:ke(d.className,J.root,f,m),disabled:v,focusRipple:!i,ref:n,onClick:x,onChange:h,value:O,ownerState:_,"aria-pressed":C},M,{children:B}))});function bt(e){return Te("MuiToggleButtonGroup",e)}const l=Oe("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),yt=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],St=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:a}=e,d={root:["root",n==="vertical"&&"vertical",r&&"fullWidth"],grouped:["grouped","grouped".concat(q(n)),a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ie(d,bt,t)},Tt=Re("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(l.grouped)]:t.grouped},{["& .".concat(l.grouped)]:t["grouped".concat(q(n.orientation))]},{["& .".concat(l.firstButton)]:t.firstButton},{["& .".concat(l.lastButton)]:t.lastButton},{["& .".concat(l.middleButton)]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>S({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{["& .".concat(l.grouped)]:S({},e.orientation==="horizontal"?{["&.".concat(l.selected," + .").concat(l.grouped,".").concat(l.selected)]:{borderLeft:0,marginLeft:0}}:{["&.".concat(l.selected," + .").concat(l.grouped,".").concat(l.selected)]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{["& .".concat(l.firstButton,",& .").concat(l.middleButton)]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& .".concat(l.lastButton,",& .").concat(l.middleButton)]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{["& .".concat(l.firstButton,",& .").concat(l.middleButton)]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},["& .".concat(l.lastButton,",& .").concat(l.middleButton)]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{["& .".concat(l.lastButton,".").concat($.disabled,",& .").concat(l.middleButton,".").concat($.disabled)]:{borderLeft:"1px solid transparent"}}:{["& .".concat(l.lastButton,".").concat($.disabled,",& .").concat(l.middleButton,".").concat($.disabled)]:{borderTop:"1px solid transparent"}})),We=u.forwardRef(function(t,n){const r=$e({props:t,name:"MuiToggleButtonGroup"}),{children:a,className:d,color:g="standard",disabled:A=!1,exclusive:p=!1,fullWidth:B=!1,onChange:f,orientation:T="horizontal",size:v="medium",value:i}=r,R=F(r,yt),h=S({},r,{disabled:A,fullWidth:B,orientation:T,size:v}),s=St(h),C=u.useCallback((x,m)=>{if(!f)return;const b=i&&i.indexOf(m);let G;i&&b>=0?(G=i.slice(),G.splice(b,1)):G=i?i.concat(m):[m],f(x,G)},[f,i]),L=u.useCallback((x,m)=>{f&&f(x,i===m?null:m)},[f,i]),O=u.useMemo(()=>({className:s.grouped,onChange:p?L:C,value:i,size:v,fullWidth:B,color:g,disabled:A}),[s.grouped,p,L,C,i,v,B,g,A]),M=at(a),_=M.length,J=x=>{const m=x===0,b=x===_-1;return m&&b?"":m?s.firstButton:b?s.lastButton:s.middleButton};return P.jsx(Tt,S({role:"group",className:ke(s.root,d),ref:n,ownerState:h},R,{children:P.jsx(Ve.Provider,{value:O,children:M.map((x,m)=>P.jsx(Ue.Provider,{value:J(m),children:x},m))})}))});var Z,ee,te,oe,re,ne,ae,ie,se;const Rt=({open:e,onClose:t})=>{const{pixels:n,setPixels:r,name:a,setName:d,layerArr:g}=I(i=>({pixels:i.pixels,setPixels:i.setPixels,name:i.name,setName:i.setName,layerArr:i.layerArr})),A=JSON.parse(localStorage.getItem("Sprites"))||{},[p,B]=u.useState("print"),f=async()=>{const R=await document.getElementById("canvas").toDataURL(),h=document.createElement("a");h.href=R,h.download="".concat(a,".png"),document.body.appendChild(h),h.click(),document.body.removeChild(h)},T=()=>{A[a]=g,localStorage.setItem("Sprites",JSON.stringify(A))},v=i=>{i!==p&&B(i)};return o(Ee,{open:e,onClose:t,children:o(we,{children:o(_e,{children:c(Me,{children:[o(ze,{children:o(Ne,{onClick:t})}),o(Le,{children:c(We,{value:p,exclusive:!0,onChange:i=>v(i.target.value),children:[Z||(Z=o(k,{value:"print",children:"Save Image"})),ee||(ee=o(k,{value:"save",children:"Save Config"})),te||(te=o(k,{value:"export",children:"Export Code"}))]})}),p==="print"&&c(E,{children:[c(w,{children:[oe||(oe=o(z,{className:"font-face-gm",children:"Name:"})),o(D,{id:"name-controlled",value:a,placeholder:"Sprite Name",onChange:i=>{d(i.target.value)}})]}),c(w,{children:[re||(re=o(z,{className:"font-face-gm",children:"Pixels:"})),o(D,{type:"number",value:n,onChange:i=>{r(i.target.value)}})]}),o(j,{onClick:()=>f(),children:ne||(ne=o(Q,{}))})]}),p==="save"&&c(E,{children:[c(w,{children:[ae||(ae=o(z,{className:"font-face-gm",children:"Name:"})),o(D,{id:"name-controlled",value:a,placeholder:"Sprite Name",onChange:i=>{d(i.target.value)}})]}),o(j,{onClick:()=>T(),children:ie||(ie=o(Q,{}))})]}),p==="export"&&o(E,{children:o(j,{onClick:()=>navigator.clipboard.writeText(JSON.stringify(g)),children:se||(se=o(Q,{}))})})]})})})})};var le;const $t=()=>{const[e,t]=u.useState(!1);return c(je,{children:[o(Y,{onClick:()=>t(!0),children:le||(le=o(N,{children:o(X,{title:"Open save options",children:o(At,{})})}))}),o(Rt,{open:e,onClose:()=>t(!1)})]})};var de;const kt=()=>{const e=I(a=>a.layerArr),t=I(a=>a.setLayerArr),n=Ye(a=>a.setOptionsState),r=()=>{n("main"),t([e[0]])};return o(Y,{onClick:()=>r(),children:de||(de=o(N,{children:o(X,{title:"Clear all assets",children:o(ut,{})})}))})};var ce,ue,pe,ge,Ae,he;const It=({open:e,onClose:t})=>{const{setLayerArr:n}=I(s=>({setLayerArr:s.setLayerArr})),r=JSON.parse(localStorage.getItem("Sprites"))||{},[a,d]=u.useState(""),[g,A]=u.useState("print"),[p,B]=u.useState(r),[f,T]=u.useState(Object.keys(p)||[]),v=()=>{n(JSON.parse(a))},i=s=>{n(p[s])},R=s=>{const C=p;delete C[s],localStorage.setItem("Sprites",JSON.stringify(C)),B(C),T(Object.keys(p))},h=s=>{s!==g&&A(s)};return o(Ee,{open:e,onClose:t,children:o(we,{children:o(_e,{children:c(Me,{children:[o(ze,{children:o(Ne,{onClick:t})}),o(Le,{children:c(We,{value:g,exclusive:!0,onChange:s=>h(s.target.value),children:[ce||(ce=o(k,{value:"upload",children:"Load Config"})),ue||(ue=o(k,{value:"import",children:"Import"})),pe||(pe=o(k,{value:"premade",children:"Premades"}))]})}),g==="upload"&&o(He,{children:f.length>0&&f.map((s,C)=>c(Ke,{children:[o(z,{className:"font-face-gm",children:s}),c(Ze,{children:[o(et,{onClick:()=>R(s)}),o(tt,{onClick:()=>i(s)})]})]},"config"+C))}),g==="import"&&c(E,{children:[c(w,{children:[ge||(ge=o(z,{className:"font-face-gm",children:"Code:"})),o(D,{id:"name-controlled",value:a,placeholder:"Paste Code Here",onChange:s=>{d(s.target.value)}})]}),o(j,{onClick:()=>v(),children:Ae||(Ae=o(Q,{}))})]}),g==="premade"&&(he||(he=o(E,{children:o(w,{children:"COMING SOON"})})))]})})})})};var me;const Ot=()=>{const[e,t]=u.useState(!1);return c("div",{children:[o(Y,{onClick:()=>t(!0),children:me||(me=o(N,{children:o(X,{title:"Open load options",children:o(pt,{})})}))}),o(It,{open:e,onClose:()=>t(!1)})]})};var fe,ve,Ce,xe,Be,be,ye,Se;const _t=()=>{const e=window.screen.width<920;return o(dt,{children:o(N,{children:c(ct,{children:[c(U,{children:[fe||(fe=o(kt,{})),e&&(ve||(ve=o(W,{children:"CLEAR ALL"})))]}),c(U,{children:[Ce||(Ce=o(ht,{})),e&&(xe||(xe=o(W,{children:"RANDOMIZE"})))]}),c(U,{children:[Be||(Be=o($t,{})),e&&(be||(be=o(W,{children:"SAVE"})))]}),c(U,{children:[ye||(ye=o(Ot,{})),e&&(Se||(Se=o(W,{children:"LOAD"})))]})]})})})};export{_t as default};
